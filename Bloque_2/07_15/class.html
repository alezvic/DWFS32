<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 15/07</title>

    <style>
        body {
            margin: 20px;
        }

        #pokeCtn {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
        }

        #pokeCtn div {
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
            background-color: #fff;
            border: 5px solid #000;
            border-radius: 10px;
            margin: 20px;
        }

        #pokeCtn div img {
            width: 50%;
        }
    </style>
</head>

<body>

    <div id="inputs">
        <input type="text">
        <input type="text">
        <input type="text">
        <button id="search_btn">Buscar</button>
    </div>

    <div id='pokeCtn'>

    </div>

    <script>

        let url = 'https://pokeapi.co/api/v2/pokemon/';
        let div = document.getElementById('pokeCtn');

        // ->>>>> Ejercicio 1: traer varios Pokémon

        // let array = [123, 777, 32, 89, 76, 88, 12, 65, 654, 88];
        // let fetch1 = fetch(url + 124)
        //     .then(response => response.json());

        // let fetch2 = fetch(url + 152)
        //     .then(response => response.json());

        // let fetch3 = fetch(url + 150)
        //     .then(response => response.json());

        // let fetch4 = fetch(url + 93)
        //     .then(response => response.json());

        // Promise.all([fetch1,fetch2,fetch3,fetch4])
        // .then((data) => {
        //     console.log(data);
        //     for (let i = 0; i < data.length; i++) {
        //         addToDOM(data[i]);
        //     }
        // });

        // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

        // ->>>>>>> Ejercicio 2: mostrar el pokémon del primer request que responda
        // (usar Promise.race)


        // let array = [123, 777, 32, 89, 76, 88, 12, 65, 654, 88];

        // let fetch1 = fetch(url + array[Math.floor(Math.random() * 10)])
        //     .then(response => response.json());

        // let fetch2 = fetch(url + array[Math.floor(Math.random() * 10)])
        //     .then(response => response.json());

        // let fetch3 = fetch(url + array[Math.floor(Math.random() * 10)])
        //     .then(response => response.json());

        // Promise.race([fetch1, fetch2, fetch3])
        //     .then((data) => {
        //         addToDOM(data);
        //     });


        // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

        // ->>>>>>> Ejercicio 3: introducir un string en el array y responder con un mensaje de error si me toca esa posicion
        // (Promise.all -> una va a fallar y eso dispara el catch)

        // let array = [123, 777, 32, 89, 76, "esto es un string", 12, 65, 654, 88];

        // let fetch1 = fetch(url + array[Math.floor(Math.random() * 10)])
        //     .then(response => response.json());

        // let fetch2 = fetch(url + array[Math.floor(Math.random() * 10)])
        //     .then(response => response.json());

        // let fetch3 = fetch(url + array[Math.floor(Math.random() * 10)])
        //     .then(response => response.json());

        // Promise.all([fetch1, fetch2, fetch3])
        //     .then((data) => {
        //         console.log(data);
        //         for (let i = 0; i < data.length; i++) {
        //             addToDOM(data[i]);
        //         }
        //     })
        //     .catch((err) => {alert('Te salió el string. ' + err)});

        // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

        // ->>>>>>> Ejercicio 4: valida que los 3 inputs estén completos, sean números, buscar el primer ID después del segundo y el 
        // segundo después del tercero
        // 

        let inputs = document.getElementsByTagName('input');
        let searchBtn = document.getElementById('search_btn');

        searchBtn.addEventListener('click', () => getPokemons(10, 20, 30));

        let prom = new Promise


        // function getPokemons(id1, id2, id3) {
        //     fetch(url + id3)
        //     .then((response) => console.log(response.json()))
        //     .then(() => fetch(url + id2)
        //     .then(response => response.json()))
        //     .then(() => fetch(url + id1)
        //     .then(response => response.json()));
        // }

        // let fetch1 = fetch(url + 10)
        //     .then(response => response.json());

        // let fetch2 = fetch(url + 20)
        //     .then(response => response.json());

        // let fetch3 = fetch(url + 30)
        //     .then(response => response.json());

        // Promise.all([fetch3, fetch2, fetch1])
        //     .then((data) => {
        //         console.log(data);
        //         for (let i = 0; i < data.length; i++) {
        //             addToDOM(data[i]);
        //         }
        //     });

        // Promise.


        // <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


        function addToDOM(info) {
            let ctn = document.createElement('div');
            let name = document.createElement('h2');
            let img = document.createElement('img');

            name.textContent = info.name;
            img.setAttribute('src', info.sprites.front_default);

            ctn.appendChild(name);
            ctn.appendChild(img);

            div.appendChild(ctn);
        }

    </script>

</body>

</html>